using UnityEngine;

public class PowerupManager : MonoBehaviour
{
    public GameObject powerupPrefab;
    public float powerupSpawnChance = 0.2f;
    public int scoreThreshold = 5;

    private int score;
    public GameObject playerOrObstacleManager;

    void Start()
    {
        score = 0;
    }

    void Update()
    {
        if (score >= scoreThreshold && Random.value < powerupSpawnChance)
        {
            SpawnPowerup();
        }
    }

    public void IncreaseScore()
    {
        score++;
    }

    void SpawnPowerup()
    {
        Vector3 spawnPosition = new Vector3(playerOrObstacleManager.transform.position.x, Random.Range(-2.5f, 2.5f), 0);
        Instantiate(powerupPrefab, spawnPosition, Quaternion.identity);
    }
}
